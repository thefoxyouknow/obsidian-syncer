##### Описание проекта
Obsidian-syncer это система обеспечивающая синхронизацию [Obsidian](https://obsidian.md/) vault между множеством устройств, а так же обеспечивающая интеграцию с Google Calendar API (и другими календарными API). Система включает серверную часть, настольное (desktop) приложение, Android-приложение и виджеты для Android. Цель системы - создание единого пространства для планирования, управления заметками и безопасного хранения данных.

---
##### Приоритизация по MoSCoW

| Приоритет                  | Значение                                                    |
| -------------------------- | ----------------------------------------------------------- |
| **Must have**              | Критические требования, без которых система не имеет смысла |
| **Should have**            | Важные требования, но не критичные для первой версии        |
| **Could have**             | Улучшают UX или удобство, но не обязательны                 |
| **Won’t have (this time)** | Исключено из текущего релиза                                |

---
##### Функциональные требования

| Требование                                                                                                      | Описание                                                                                                                                                                                                                                                                                                                                                                      | Приоритет (MoSCoW) |
| --------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------ |
| Автоматическое обновление данных между клиентами и сервером, сохранение данных в консистентном состоянии        | Приложение должно автоматически проверять изменения в файлах на любом из узлов, и обновлять их на остальных обеспечивая синхронизированность и консистентность данных. Всё происходит в автоматическом режиме, ручная синхронизация пользователем не предусмотрена                                                                                                            | Must               |
| Решение конфликтов                                                                                              | Приложение должно автоматически разрешать конфликты в случаях  одновременно редактируемых файлов, сбоев в сети, синхронизации при оффлайн работе. Система должна поддерживать несколько стратегий разрешения конфликтов, выбираемых пользователем или автоматически в зависимости от сценария                                                                                 | Must               |
| Работа в офлайн-режиме                                                                                          | При отсутствии сети изменения сохраняются локально и синхронизируются при восстановлении соединения                                                                                                                                                                                                                                                                           | Must               |
| Интеграция и расширение возможностей [плагина Kanban для Obsidian](https://github.com/mgmeyers/obsidian-kanban) | Расширение возможностей плагина Kanban<br>- автоматическое создание заметки при создании карточки, название карточки становится ссылкой<br>- сортировка карточек в столбцах по дате<br>- перенос заметки в архив при переносе карточки в столбец done<br>- создание события через API календаря при переносе карточки в столбец calendar, или при отметке в чекбоксе карточки | Should             |
| Синхронизация заметок с Google Calendar                                                                         | Пользователь может связать заметку с календарным событием привязав её ко времени и рассчитывать на автоматическую двустороннюю синхронизацию с обеспечением консистентности между изменениями в заметке и событии календаря                                                                                                                                                   | Should             |
| Виджет на Android для быстрых заметок                                                                           | Виджет для моментального создания заметок                                                                                                                                                                                                                                                                                                                                     | Could              |
| Виджет на Android для  аудиозаметок                                                                             | Виджет для моментальных аудиозаписей                                                                                                                                                                                                                                                                                                                                          | Could              |
| Совместное использование документов                                                                             | Совместное использование документов - возможность интеграции сторонних API для предоставления доступа к файлам в определённых директориях хранилища                                                                                                                                                                                                                           | Could              |

---
##### Нефункциональные требования

| Категория              | Требование                                                                | Приоритет (MoSCoW) |
| ---------------------- | ------------------------------------------------------------------------- | ------------------ |
| **Производительность** | Время синхронизации ≤ 3 секунд при стабильном соединении                  | Must               |
| **Надёжность**         | Автоматическое резервное копирование заметок каждые 24 часа               | Must               |
| **Безопасность**       | Все соединения выполняются по HTTPS; токены OAuth хранятся зашифрованно   | Must               |
| **Совместимость**      | Поддержка Windows, Android, Linux                                         | Must               |
| **Поддерживаемость**   | Исходный код организован по принципам SOLID и сопровождается юнит-тестами | Must               |

---
##### Критерии приёмки

>- Корректная работа синхронизации файлов на всех устройствах (удаление, создание, изменение) 
> - При сбое сети синхронизация возобновляется автоматически. Оффлайн режим работает  
 >- Все события из Google Calendar корректно отображаются в заметках Obsidian и наоборот, работает двусторонняя синхронизация, описаний, времени и даты, цвета, работает удаление и создание   
 >- При редактировании одного и того же файла автоматически применяется один из предопределённых сценариев разрешения конфликтов

---
##### Дополнительно
- Изменения в требованиях фиксируются через PR.  
- Связанные документы:  
  - `architecture.md` - архитектура и технологии  
  - `roadmap.md` - общая дорожная карта проекта  
  - `branching_policy.md` - правила работы с Git  
  - `test_plan.md` - план тестирования требований  
---

_Автор: Maksim Podolskii_  
_Дата создания: 2025-10-11_

